<?php
$cfg = require __DIR__ . '/../config.php';
$host = $cfg['db_host']; $db = $cfg['db_name']; $user = $cfg['db_user']; $pass = $cfg['db_pass']; $charset='utf8mb4'; $dsn = "mysql:host=$host;dbname=$db;charset=$charset"; $options=[PDO::ATTR_ERRMODE=>PDO::ERRMODE_EXCEPTION,PDO::ATTR_DEFAULT_FETCH_MODE=>PDO::FETCH_ASSOC,PDO::ATTR_EMULATE_PREPARES=>false]; try{$pdo=new PDO($dsn,$user,$pass,$options);}catch(Exception $e){echo 'DB error: '.htmlspecialchars($e->getMessage()); exit;}